<div class="flex items-center justify-between px-6 py-4 max-w-7xl mx-auto" x-data="{ open: false }">
  <h1 class="text-4xl font-extrabold text-white">
    <%= link_to "Charamite", root_path, class: "hover:scale-105 hover:drop-shadow-lg transition duration-300 ease-out" %>
  </h1>

  <div class="relative">
    <button @click="open = !open" class="p-2 z-50 relative bg-white text-black rounded-md border border-gray-300 hover:bg-gray-100 shadow-md transition">
      <svg class="w-8 h-8 text-black" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <div x-show="open" x-cloak @click.away="open = false" x-transition
         class="absolute right-0 top-full mt-2 w-48 bg-gray-100 border rounded-lg shadow-lg py-2 text-black z-40">

      <% if logged_in? %>
        <%= link_to "マイページ", mypage_path, class: "block px-4 py-2 hover:bg-gray-200" %>
        <%= link_to "ユーザー設定", edit_user_path(current_user), class: "block px-4 py-2 hover:bg-gray-200" %>
        <%= link_to "フォロー一覧", follows_path, class: "block px-4 py-2 hover:bg-gray-200" %>
        <%= link_to "いいね一覧", likes_path, class: "block px-4 py-2 hover:bg-gray-200" %>
        <%= link_to "検索", search_path, class: "block px-4 py-2 hover:bg-gray-200" %>
        <%= link_to "キャラを作る", new_post_path, class: "block px-4 py-2 hover:bg-gray-200" %>

        <%= button_to "ログアウト", logout_path, method: :delete,
              data: { turbo: false },
              form: { class: "w-full" },
              class: "block w-full text-left px-4 py-2 text-red-600 hover:bg-gray-200" %>

      <% else %>
        <%= link_to "ログイン", login_path, class: "block px-4 py-2 hover:bg-gray-200 text-blue-600" %>
      <% end %>

    </div>
  </div>
</div>
